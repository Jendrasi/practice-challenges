package malwareanalysis;

import java.util.Arrays;
import java.util.ArrayList;

public class MalwareAnalysis {
    public static int[] simulate(int[] entries) {
        // Make an array of unknown length to store positions of values that should be set to 0 at the end of the analysis
        ArrayList<Integer> positions = new ArrayList<Integer>();
        for (int i = 0; i < entries.length; i++) {
            int tl = i-3;
            int tr = i+4;
            if (tl >= 0) {
                if (entries[tl] >= entries[i]) {
                    positions.add(i);
                    continue;
                }
            }
            if (tr < entries.length) {
                if (entries[tr] >= entries[i]) {
                    positions.add(i);
                }
            }
        }
        for (Integer position : positions) {
            entries[position] = 0;
        }
        return entries;
    }

    public static void main(String[] args) {
        int[] records = new int[] { 1, 2, 0, 5, 0, 2, 4, 3, 3, 3 };
        System.out.println(Arrays.toString(simulate(records)));
        // Expected output:
        // 1, 0, 0, 5, 0, 0, 0, 3, 3, 0
    }
}